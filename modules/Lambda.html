

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>17.1.2. Anonymous Functions: Lambda &mdash; Python 210 6.0 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="17.1.3. Map Filter and Reduce" href="MapFilterReduce.html" />
    <link rel="prev" title="17.1.1. Object Oriented vs Functional Programming" href="OO_vs_functional.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: #4b2e83" >
          

          
            <a href="../index.html">
          

          
            
            <img src="../_static/UWPCE_logo_full.png" class="logo" alt="Logo"/>
          
          </a>

          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Topics in the Program</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../topics/01-setting_up/index.html">1. Setting up your Environment</a></li>
<li class="toctree-l1"><a class="reference internal" href="../topics/02-basic_python/index.html">2. Basic Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="../topics/03-recursion_booleans/index.html">3. Recursion and Booleans</a></li>
<li class="toctree-l1"><a class="reference internal" href="../topics/04-sequences_iteration/index.html">4. Sequences and Iteration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../topics/05-text_handling/index.html">5. Basic Text Handling</a></li>
<li class="toctree-l1"><a class="reference internal" href="../topics/06-exceptions/index.html">6. Exception Handling</a></li>
<li class="toctree-l1"><a class="reference internal" href="../topics/07-unit_testing/index.html">7. Unit Testing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../topics/08-dicts_sets/index.html">8. Dictionaries and Sets</a></li>
<li class="toctree-l1"><a class="reference internal" href="../topics/09-files/index.html">9. File Handling</a></li>
<li class="toctree-l1"><a class="reference internal" href="../topics/10-modules_packages/index.html">10. Modules and Packages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../topics/11-argument_passing/index.html">11. Advanced Argument Passing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../topics/12-comprehensions/index.html">12. Comprehensions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../topics/13-intro_oo/index.html">13. Intro to Object Oriented Programing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../topics/14-magic_methods/index.html">14. Properties and Magic Methods</a></li>
<li class="toctree-l1"><a class="reference internal" href="../topics/15-subclassing/index.html">15. Subclassing and Inheritance</a></li>
<li class="toctree-l1"><a class="reference internal" href="../topics/16-multiple_inheritance/index.html">16. Multiple Inheritance</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../topics/17-functional_programming/index.html">17. Introduction to Functional Programming</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="OO_vs_functional.html">17.1.1. Object Oriented vs Functional Programming</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">17.1.2. Anonymous Functions: Lambda</a></li>
<li class="toctree-l2"><a class="reference internal" href="MapFilterReduce.html">17.1.3. Map Filter and Reduce</a></li>
<li class="toctree-l2"><a class="reference internal" href="IPythonParallel.html">17.1.4. IPython Parallel Quickstart</a></li>
<li class="toctree-l2"><a class="reference internal" href="Closures.html">17.1.5. Closures and Function Currying</a></li>
<li class="toctree-l2"><a class="reference internal" href="../exercises/lambda_magic.html">17.2.1. lambda and keyword Magic</a></li>
<li class="toctree-l2"><a class="reference internal" href="../exercises/trapezoid.html">17.3.1. Trapezoidal Rule</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../topics/18-advanced_testing/index.html">18. Advanced Testing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../topics/99-extras/index.html">19. Extra Topics</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Python 210</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content style-external-links">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../topics/17-functional_programming/index.html"><span class="section-number">17. </span>Introduction to Functional Programming</a> &raquo;</li>
        
      <li><span class="section-number">17.1.2. </span>Anonymous Functions: Lambda</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/modules/Lambda.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="anonymous-functions-lambda">
<span id="anonymous-functions"></span><h1><span class="section-number">17.1.2. </span>Anonymous Functions: Lambda<a class="headerlink" href="#anonymous-functions-lambda" title="Permalink to this headline">¶</a></h1>
<p>The <code class="docutils literal notranslate"><span class="pre">lambda</span></code> keyword is a way to create a function on the fly, without giving it a name. Hence the term “anonymous” – it has no name.</p>
<div class="section" id="using-lambda">
<h2><span class="section-number">17.1.2.1. </span>Using <code class="docutils literal notranslate"><span class="pre">lambda</span></code><a class="headerlink" href="#using-lambda" title="Permalink to this headline">¶</a></h2>
<div class="section" id="structure">
<h3><span class="section-number">17.1.2.1.1. </span>Structure<a class="headerlink" href="#structure" title="Permalink to this headline">¶</a></h3>
<p>“lambda” is a keyword – it can not be used as a variable name, etc. A lambda expression looks like:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">lambda</span> <span class="o">&lt;</span><span class="n">parameters</span><span class="o">&gt;</span> <span class="p">:</span> <span class="o">&lt;</span><span class="n">expression</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>It is an expression – which means it evaluates to a value – which means that it can be assigned to a variable, put in a container (such as a list or dict) etc.</p>
<p>The parameters are just like function parameters – but without the parentheses. And they exist in the local scope of the lambda, and can thus be used in the expression.</p>
<p>The expression can be any expression using global variables or the parameters – but not a statement – anyone remember what the difference is?</p>
<p>An expression is something that evaluates to a value, and can be assigned to a variable etc. but things like <code class="docutils literal notranslate"><span class="pre">for</span></code> and <code class="docutils literal notranslate"><span class="pre">while</span></code> loops and <code class="docutils literal notranslate"><span class="pre">if...else</span></code> structures are NOT expressions, and thus can’t be put in a lambda.</p>
<p>In short, lambda is only for very simple functions with no real flow control.</p>
</div>
<div class="section" id="example">
<h3><span class="section-number">17.1.2.1.2. </span>Example<a class="headerlink" href="#example" title="Permalink to this headline">¶</a></h3>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [1]: </span><span class="n">f</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">:</span> <span class="n">x</span> <span class="o">+</span> <span class="n">y</span>

<span class="gp">In [2]: </span><span class="n">f</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">)</span>
<span class="gh">Out[2]: </span><span class="go">7</span>
</pre></div>
</div>
<p>This creates a function that takes two positional parameters, <code class="docutils literal notranslate"><span class="pre">x</span></code> and <code class="docutils literal notranslate"><span class="pre">y</span></code>, and returns their sum.</p>
<p>This is ALMOST the same as:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [3]: </span><span class="k">def</span> <span class="nf">f2</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
<span class="gp">   ...: </span>    <span class="k">return</span> <span class="n">x</span> <span class="o">+</span> <span class="n">y</span>

<span class="gp">In [4]: </span><span class="n">f2</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">)</span>
<span class="gh">Out[4]: </span><span class="go">7</span>
</pre></div>
</div>
<p>So what is the difference? Well, <code class="docutils literal notranslate"><span class="pre">lambda</span></code> creates an “anonymous” function – it doesn’t have a name:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [10]: </span><span class="n">f</span><span class="o">.</span><span class="vm">__name__</span>
<span class="gh">Out[10]: </span><span class="go">&#39;&lt;lambda&gt;&#39;</span>
</pre></div>
</div>
<p>All lambda functions are called &lt;lambda&gt;. But:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [11]: </span><span class="n">f2</span><span class="o">.</span><span class="vm">__name__</span>
<span class="gh">Out[11]: </span><span class="go">&#39;f2&#39;</span>
</pre></div>
</div>
<p>Regular “def” defined functions know their name.</p>
<p>So <code class="docutils literal notranslate"><span class="pre">lambda</span></code> creates a function, but it doesn’t have a name, and it can only have a single expression in it – no flow control.</p>
</div>
<div class="section" id="what-s-the-point">
<h3><span class="section-number">17.1.2.1.3. </span>What’s the point?<a class="headerlink" href="#what-s-the-point" title="Permalink to this headline">¶</a></h3>
<p>There is nothing you can do with lambda that you can’t do with regular <code class="docutils literal notranslate"><span class="pre">def</span></code> functions. But there are times when you just need a simple quick function that you don’t need to keep around or refer to again – so it’s a handy syntax for these situations.</p>
<p>A sorting key function is a great example:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [55]: </span><span class="n">lst</span> <span class="o">=</span> <span class="p">[(</span><span class="s2">&quot;Chris&quot;</span><span class="p">,</span><span class="s2">&quot;Barker&quot;</span><span class="p">),</span> <span class="p">(</span><span class="s2">&quot;Fred&quot;</span><span class="p">,</span> <span class="s2">&quot;Jones&quot;</span><span class="p">),</span> <span class="p">(</span><span class="s2">&quot;Zola&quot;</span><span class="p">,</span> <span class="s2">&quot;Adams&quot;</span><span class="p">)]</span>

<span class="gp">In [56]: </span><span class="n">lst</span><span class="o">.</span><span class="n">sort</span><span class="p">()</span>

<span class="gp">In [57]: </span><span class="n">lst</span>
<span class="gh">Out[57]: </span><span class="go">[(&#39;Chris&#39;, &#39;Barker&#39;), (&#39;Fred&#39;, &#39;Jones&#39;), (&#39;Zola&#39;, &#39;Adams&#39;)]</span>
</pre></div>
</div>
<p>Tuples are sorted, be default, by their first element. But what if you wanted to sort by the second (index 1) element – last name in this case:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [13]: </span><span class="k">def</span> <span class="nf">sort_key</span><span class="p">(</span><span class="n">item</span><span class="p">):</span>
<span class="go">    ...:     return item[1]</span>
<span class="go">    ...:</span>

<span class="gp">In [14]: </span><span class="n">lst</span><span class="o">.</span><span class="n">sort</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="n">sort_key</span><span class="p">)</span>

<span class="gp">In [15]: </span><span class="n">lst</span>
<span class="gh">Out[15]: </span><span class="go">[(&#39;Zola&#39;, &#39;Adams&#39;), (&#39;Chris&#39;, &#39;Barker&#39;), (&#39;Fred&#39;, &#39;Jones&#39;)]</span>
</pre></div>
</div>
<p>straightforward enough. But kind a lot of extra code, eh? and now there is this function: “sort_key” hanging around. You could delete it: <code class="docutils literal notranslate"><span class="pre">del</span> <span class="pre">sort_key</span></code>, but that would be even more code.</p>
<p>But with a lambda, you simply define it inline:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [16]: </span><span class="n">lst</span> <span class="o">=</span> <span class="p">[(</span><span class="s2">&quot;Chris&quot;</span><span class="p">,</span><span class="s2">&quot;Barker&quot;</span><span class="p">),</span> <span class="p">(</span><span class="s2">&quot;Fred&quot;</span><span class="p">,</span> <span class="s2">&quot;Jones&quot;</span><span class="p">),</span> <span class="p">(</span><span class="s2">&quot;Zola&quot;</span><span class="p">,</span> <span class="s2">&quot;Adams&quot;</span><span class="p">)]</span>

<span class="gp">In [17]: </span><span class="n">lst</span><span class="o">.</span><span class="n">sort</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>

<span class="gp">In [18]: </span><span class="n">lst</span>
<span class="gh">Out[18]: </span><span class="go">[(&#39;Zola&#39;, &#39;Adams&#39;), (&#39;Chris&#39;, &#39;Barker&#39;), (&#39;Fred&#39;, &#39;Jones&#39;)]</span>
</pre></div>
</div>
<p>Nice and compact and clear, with no extra names hanging around.</p>
<p>You’ll find them useful with things like <code class="docutils literal notranslate"><span class="pre">map</span></code>, <code class="docutils literal notranslate"><span class="pre">filter</span></code>, and <code class="docutils literal notranslate"><span class="pre">reduce</span></code>. as well.</p>
</div>
</div>
<div class="section" id="functions-as-first-class-objects">
<h2><span class="section-number">17.1.2.2. </span>Functions as first class objects<a class="headerlink" href="#functions-as-first-class-objects" title="Permalink to this headline">¶</a></h2>
<p>lambda functions are python objects; they can be stored in a list or other container:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [7]: </span><span class="n">l</span> <span class="o">=</span> <span class="p">[</span><span class="k">lambda</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">:</span> <span class="n">x</span><span class="o">+</span><span class="n">y</span><span class="p">]</span>
<span class="gp">In [8]: </span><span class="nb">type</span><span class="p">(</span><span class="n">l</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="gh">Out[8]: </span><span class="go">function</span>
</pre></div>
</div>
<p>And you can call it by indexing the container:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [9]: </span><span class="n">l</span><span class="p">[</span><span class="mi">0</span><span class="p">](</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">)</span>
<span class="gh">Out[9]: </span><span class="go">7</span>
</pre></div>
</div>
<p>You can do that with “regular” functions too:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [12]: </span><span class="k">def</span> <span class="nf">fun</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">):</span>
<span class="gp">   ....: </span>    <span class="k">return</span> <span class="n">x</span><span class="o">+</span><span class="n">y</span>
<span class="gp">   ....:</span>
<span class="gp">In [13]: </span><span class="n">l</span> <span class="o">=</span> <span class="p">[</span><span class="n">fun</span><span class="p">]</span>
<span class="gp">In [14]: </span><span class="nb">type</span><span class="p">(</span><span class="n">l</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="gh">Out[14]: </span><span class="go">function</span>
<span class="gp">In [15]: </span><span class="n">l</span><span class="p">[</span><span class="mi">0</span><span class="p">](</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">)</span>
<span class="gh">Out[15]: </span><span class="go">7</span>
</pre></div>
</div>
<p>If the goal is to have that little function in the list, and you don’t need to give it a name and/or reference it anywhere else, then lambda is a cleaner way to do it.</p>
<div class="section" id="lambda-and-keyword-arguments">
<h3><span class="section-number">17.1.2.2.1. </span>lambda and keyword arguments<a class="headerlink" href="#lambda-and-keyword-arguments" title="Permalink to this headline">¶</a></h3>
<p>lambda functions can take keyword arguments as well:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [20]: </span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="o">=</span><span class="kc">None</span><span class="p">:</span> <span class="n">x</span> <span class="o">*</span> <span class="mi">2</span><span class="p">)(</span><span class="n">x</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
<span class="gh">Out[20]: </span><span class="go">8</span>
</pre></div>
</div>
<p>Remember that default arguments get evaluated when the function is defined. This is the case with lambda as well.  This can get you in trouble if you use a mutable in a function definition. But it also can be a handy way to “bake in” a value into a function to be used later:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [186]: </span><span class="n">l</span> <span class="o">=</span> <span class="p">[]</span>
<span class="gp">In [187]: </span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">):</span>
<span class="go">    l.append(lambda x, e=i: x**e)</span>
</pre></div>
</div>
<p>This creates a list, in this case with three items. Each of those items is a function. Note that the lambda is called each time through the loop, so each one has that default parameter defined separately – and each time the default is set to the current value of <code class="docutils literal notranslate"><span class="pre">i</span></code> in the loop. So we get three functions, all the same except for the default value of <code class="docutils literal notranslate"><span class="pre">e</span></code> – that is, each function will raise the input value to a different power.</p>
<p>We can loop through that list, and call each function in turn with the same input value:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [25]: </span><span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">func_list</span><span class="p">:</span>
<span class="go">    ...:     print(f(2))</span>
<span class="go">    ...:</span>
<span class="go">1</span>
<span class="go">2</span>
<span class="go">4</span>
<span class="go">8</span>
</pre></div>
</div>
<p>and presto! 2 raised to the zeroth, then first, the second, … power.</p>
<p>This may seem pretty obscure, but it’s a handy way to auto-generate custom functions on the fly – like for GUI callbacks, for instance:</p>
<p><a class="reference external" href="https://wiki.wxpython.org/Passing%20Arguments%20to%20Callbacks">https://wiki.wxpython.org/Passing%20Arguments%20to%20Callbacks</a></p>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="MapFilterReduce.html" class="btn btn-neutral float-right" title="17.1.3. Map Filter and Reduce" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="OO_vs_functional.html" class="btn btn-neutral float-left" title="17.1.1. Object Oriented vs Functional Programming" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, University of Washington, Natasha Aleksandrova, Christopher Barker, Brian Dorsey, Cris Ewing, Christy Heaton, Jon Jacky, Maria McKinley, Andy Miles, Rick Riehle, Joseph Schilz, Joseph Sheedy, Hosung Song. Creative Commons Attribution-ShareAlike 4.0 license

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>